<!DOCTYPE html>
<html>
<head>
	<title>Web Take Face</title>
</head>
<body>
	<div id="my_camera"></div>
	<input type=button value="Configure" onClick="configure()">
	 <input type=button value="Take Snapshot" onClick="take_snapshot()">
	 <input type=button value="Save Snapshot" onClick="saveSnap()">
	 
	<div id="results" ></div>
 
	<!-- Webcam.min.js -->
	<script type="text/javascript" src="webcam.js"></script>

	<!-- Configure a few settings and attach camera -->
	<script language="JavaScript">
	function configure(){
	 Webcam.set({
	  width: 320,
	  height: 240,
	  image_format: 'jpeg',
	  jpeg_quality: 90
	 });
	 Webcam.attach( '#my_camera' );
	}

	function take_snapshot() {
	 
	 // take snapshot and get image data
	 Webcam.snap( function(data_uri) {
	  // display results in page
	  document.getElementById('results').innerHTML = 
	  '<a href="'+data_uri+'" download="h.jpg">Happy</a> <a href="'+data_uri+'" download="a.jpg">Angry</a> <a href="'+data_uri+'" download="n.jpg">Neutral</a><img src="'+data_uri+'" id="imgPrev"/>';
	  } );
	}
	function saveSnap(){
	 // Get base64 value from <img id='imageprev'> source
	 var base64image = document.getElementById("results").src;

	 Webcam.upload( base64image, 'upload.php', function(code, text) {
	  console.log('Save successfully');
	  //console.log(text);
	 });

	}
	</script>
</body>
</html>