<!DOCTYPE html>
<html>
<head>
	<title>Web Take Face</title>
</head>
<body>
	<div id="my_camera"></div>
	<input type=button value="Configure" onClick="configure()">
	 <input type=button value="Take Happy" onClick="take_h()">
	 <input type=button value="Take Angry" onClick="take_a()">
	 <input type=button value="Take Neutral" onClick="take_n()">
	 <input type="number" name="number" id="myNumber">
	 
	<div id="results" ></div>
 
	<!-- Webcam.min.js -->
	<script type="text/javascript" src="webcam.js"></script>

	<!-- Configure a few settings and attach camera -->
	<script language="JavaScript">
	function configure(){
	 Webcam.set({
	  width: 320,
	  height: 240,
	  image_format: 'jpeg',
	  jpeg_quality: 90
	 });
	 Webcam.attach( '#my_camera' );
	}

	function take_h() {
	 var cycle = document.getElementById("myNumber").value;
	 var i;
	 // take snapshot and get image data
	 for (i=0; i < cycle; i++){
	 
		 setTimeout(function(){
		 	Webcam.snap( function(data_uri) {
		  // display results in page
		  	var link = document.createElement("a");
		  	link.download = "h.jpg";
		  	link.href = data_uri;
	  		document.body.appendChild(link);
	  		link.click();
	  		document.body.removeChild(link);
		  	document.getElementById('results').innerHTML = 
		  '<img src="'+data_uri+'" id="imgPrev"/>';
		  alert("ok");
		  } );
		 },3000);
	}
	}
	function take_a() {
	 var cycle = document.getElementById("myNumber").value;
	 var i;
	 // take snapshot and get image data
	 for (i=0; i < cycle; i++){
	 Webcam.snap( function(data_uri) {
	  // display results in page
	  	var link = document.createElement("a");
	  	link.download = "a.jpg";
	  	link.href = data_uri;
  		document.body.appendChild(link);
  		link.click();
  		document.body.removeChild(link);
	  	document.getElementById('results').innerHTML = 
	  '<img src="'+data_uri+'" id="imgPrev"/>';
	  } );
	}
	}
	function take_n() {
	 var cycle = document.getElementById("myNumber").value;
	 var i;
	 // take snapshot and get image data
	 for (i=0; i < cycle; i++){
	 Webcam.snap( function(data_uri) {
	  // display results in page
	  	var link = document.createElement("a");
	  	link.download = "n.jpg";
	  	link.href = data_uri;
  		document.body.appendChild(link);
  		link.click();
  		document.body.removeChild(link);
	  	document.getElementById('results').innerHTML = 
	  '<img src="'+data_uri+'" id="imgPrev"/>';
	  } );
	}
	}
	</script>
</body>
</html>